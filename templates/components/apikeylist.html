{% extends "dashboard/base.html" %}
{% load staticfiles %}

{% block extrahead %}

<!-- DataTables CSS -->
<link href="{% static "bower_components/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.css" %}" rel="stylesheet">

<!-- DataTables Responsive CSS -->
<link href="{% static "bower_components/datatables-responsive/css/dataTables.responsive.css" %}" rel="stylesheet">

{% endblock extrahead %}


{% block content %}

<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">Api Key List</h1>
    </div>
    <!-- /.col-lg-12 -->
</div>
<!-- /.row -->
<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                Api Key
            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
                <div class="dataTable_wrapper">
                    <table class="table table-striped table-bordered table-hover" id="storedataTables-example">
                        <thead>
                            <tr>
                                <th>Key</th>
                                <th>Secret Key</th>
                                <th>Edit</th>

                            </tr>
                        </thead>
                        <tbody>
                            {% for api in key %}
                                <tr class="odd gradeX">
                                    <td>{{ api.apikey }}</td>
                                    <td>{{ api.apisec }}</td>

                                    <td class="center"><a href="javascript:void()" data-url="{{api.id}}" data-id="True" class="edit-api-btn">
                                <img src="/static/Images/edit.png" style="height: 15px;"> </a>
</td>
                                </tr>
                            {% endfor %}

                        </tbody>
                    </table>
                </div>
                <!-- /.table-responsive -->
                           </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
    </div>
    <!-- /.col-lg-12 -->
</div>

{% endblock content %}


{% block extrajs %}

<!-- DataTables JavaScript -->
<script src="{% static "bower_components/datatables/media/js/jquery.dataTables.min.js" %}"></script>
<script src="{% static "bower_components/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.min.js"%}"></script>

<!-- Page-Level Demo Scripts - Tables - Use for reference -->
<script>
$(document).ready(function() {
    $('#storedataTables-example').DataTable({
            responsive: true
    });
});
$(document).on('click','.edit-api-btn',function() {
        window.location= '/dashboard/editkey/'+ $(this).attr('data-url')
    });
</script>

{% endblock extrajs %}